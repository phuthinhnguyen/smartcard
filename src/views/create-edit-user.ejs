<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node.JS Basic</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="shortcut icon" href="/image/favicon.ico" type="image/x-icon">
    <style>
        body {
          margin: 0;
          font-family: Arial, Helvetica, sans-serif;
        }
        
        .topnav {
          overflow: hidden;
          background-color: #333;
        }
        
        .topnav a {
          float: left;
          color: #f2f2f2;
          text-align: center;
          padding: 14px 16px;
          text-decoration: none;
          font-size: 17px;
        }
        
        .topnav a:hover {
          background-color: #ddd;
          color: black;
        }
        
        .topnav a.active {
          background-color: #04AA6D;
          color: white;
        }
        .create-user-container{
          padding: 15px;
          text-align: center;
        }
        label{
          display: block;
        }
        .btn-submit{
          margin-top: 15px;
          cursor: pointer;
        }
        </style>
</head>
<body>
    <div class="topnav">
        <a class="active" href="/">Home</a>
        <a href="/upload">Upload File</a>
    </div>
    
    <div class="w3-container">
        <h2>List users Table</h2>
        <table class="w3-table-all w3-hoverable">
          <thead>
            <tr class="w3-light-grey">
                <th>ID</th>
                <th>Card ID</th>
                <th>Username</th>
                <th>Password</th>
                <th>Name</th>
                <th>Actions</th>
            </tr>
          </thead>
      
          <% for(let i=0; i < datacardid.length; i++) { %>
            <tr>
                <td><%= datacardid[i].id %></td>
                <td><%= datacardid[i].cardid %></td>
                <td><%= datacardid[i].username %></td>
                <td><%= datacardid[i].password %></td>
                <td><%= datacardid[i].name %></td>
                <td>
                    <button type="button"><a href="/<%= datacardid[i].cardid %>" target="_blank">Details</a></button>
                    <form action="/edit-user/<%= datacardid[i].id %>" method="get">
                      <button type="submit">Edit</button>
                    </form>
                    <form action="/delete-user" method="post">
                      <input type="text" hidden value="<%= datacardid[i].id %>" name="userId">
                      <button type="submit">Delete</button>
                    </form>
                </td>
            </tr>
         <% } %>
        </table>
    </div>
    <div class="create-user-container">
      <form action="/create-new-user" method="post">
        <div>Create a new user:</div>
        <div>
          <label for="">FirstName:</label>
          <input type="text" name="firstName">
        </div>
        <div>
          <label for="">lastName:</label>
          <input type="text" name="lastName">
        </div>
        <div>
          <label for="">EmailName:</label>
          <input type="email" name="email">
        </div>
        <div>
          <label for="">Address:</label>
          <input type="text" name="address">
        </div>
        <div><button type="submit" class="btn-submit">Submit</button></div>
      </form>
    </div>
</body>
</html>